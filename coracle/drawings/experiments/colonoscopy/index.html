<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#f7e082" />
    <title>Coracle: Colonoscopy</title>
    <link href="../../../../css/prism.css" rel="stylesheet" /><link href="../../../../css/style.css" rel="stylesheet" />
  <style>
    #coracle_canvas {
      height: 750px;
      width: 750px;
    }
  </style>
  <script src="/js/default.js"></script> 
  </head>
  <body>
  <nav id="nav"></nav>
  <p class="small"><a href="../../../../">Home</a> / <a href="../../../">Coracle</a> / Drawings / Colonoscopy</p>
  <h1>Colonoscopy</h1>
  <canvas id="coracle_canvas"></canvas>
  <pre><code class="language-kotlin">import coracle.Color
import coracle.Drawing
import coracle.Math.map
import kotlin.math.cos
import kotlin.math.sin

class Colonoscopy: Drawing() {

  val bg = 0x000000
  val maxZ = 1100f
  
  override fun setup() {
    size(750, 750)
    noStroke()
    fill(0xffffff)
  }

  override fun draw() {
    background(bg)
    for(i in 1600 downTo 0){
      val z = width * 40/i
      val a = i + frame * 2
      val x = sin(a.toDouble()) * z + (sin(a/(width.toFloat()) * 1.2) + 2) * 200
      val y = cos(a.toDouble()) * z + (sin(a/(width.toFloat()) / 1.2) + 2) * 200
      val r = map(z.toFloat(), 1f, maxZ, 0f, 255f).toInt()
      val g = map(z.toFloat(), 1f, maxZ, 0f, 155f).toInt()
      val b = map(z.toFloat(), 1f, maxZ, 0f, 155f).toInt()
      fill(Color(r, g, b))
      circle(x, y, z * 0.3)
    }
  }
}
  </code></pre>
  <script src="../../../../js/prism.js"></script>
<script src="CoracleWeb.js"></script>
  </body>
</html>
