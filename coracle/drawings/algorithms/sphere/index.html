<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#f7e082" />
    <title>CORACLE: DIONYSIAN SPHERE</title>
    <link href="../../../../css/prism.css" rel="stylesheet" /><link href="../../../../css/style.css" rel="stylesheet" />
    <style>
        #coracle_canvas {
            height: 350px;
        }
    </style>
    <script src="/js/default.js"></script> 
  </head>
  <body>
    <nav id="nav"></nav>
    <p class="small"><a href="../../../../">Home</a> / <a href="../../../">Coracle</a> / Drawings / Dionysian Sphere</p>
    <h1>Dionysian Sphere</h1>
    <canvas id="coracle_canvas"></canvas>
    <pre><code class="language-kotlin">import coracle.Drawing
import kotlin.math.cos
import kotlin.math.sin

/*
    A port of some old BBC Micro BASIC code
*/
class SphereDrawing: Drawing() {

    var radius = 150
    var angle = 0f
    var lastX = 0f
    var lastY = 0f

    override fun setup() {
        size(350, 350)
        translate(width / 2, height / 2)

        background(DEFAULT_BACKGROUND)
        stroke(DEFAULT_FOREGROUND)
    }

    override fun draw() {
        val x: Float = radius * sin(angle)
        val y: Float = radius * cos(angle) * sin(angle * 0.95f)
        line(lastX, lastY, x, y)
        lastX = x
        lastY = y
        angle += 0.1.toFloat()

        if(angle > 126) noLoop()
    }
}
    </code></pre>
    <script src="../../../../js/prism.js"></script>
<script src="CoracleWeb.js"></script>
  </body>
</html>
