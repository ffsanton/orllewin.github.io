<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Orllewin: POV-Ray: Blobmap Animation</title>
  <meta name="description" content="orllewin portal">
  <meta name="author" content="orllewin">
  <link rel="stylesheet" href="../../style.css">
</head>
<body>
  <header>
    <A href="/"><img id="fish_logo" src="../../assets/fish.png"></a>
    <h1>Gogledd Orllewin</h1>
  </header>
  <article>
		<h2>Pov-Ray Blobmap Animation</h2>
    <p>A blob shape with an environment map making use of POV-Ray's in-built <code>clock</code> animation feature.</p>
    <p>An animation like this could be done in realtime in a browser these days using WebGL. In the 1990s I was using POV-Ray on an Apple Performa 5200 (widely considered the worst Mac ever made) and something like this would have taken a few days to render but on a M1 Macbook Air it took around 20 minutes.</p>
    <p>The frames were exported with a green background, converted to a video using Quicktime Player (File > Open Image Sequence), iMovie is free with MacOS so I used that to composite the final video; you can configure a clip to have green screen removal, add the source background image and add audio (generated by <a href="../../playdate/modular_play/">Modular Play on Playdate</a>).
    <p>
      <iframe width="800" height="543" src="https://www.youtube.com/embed/4MttN6pMvlU" title="BLOBMAP003" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
    </p>
    <pre><code>#declare lb = -2;//lower bound
#declare ub = 4;//upper bound
#declare seeed = seed(148573);

global_settings { assumed_gamma 2.2 }

//Green background for chroma key removal
background { color rgb &lt;0, 1, 0&gt; }
camera {
    angle 15
    location &lt;0,0,-43&gt;
    look_at &lt;0,0,0&gt;
 }

sphere{
  0,1.3
    pigment{
      image_map{
        png "bwrap2.png" once interpolate 2 map_type  1
      }
   }
  finish{emission 1.2}
  scale 30
  hollow
  no_image
}

blob {
  threshold clock

  #for (i,0,64)
     sphere{ &lt;rand(seeed)*(ub - lb),  rand(seeed)*(ub - lb), rand(seeed)*(ub - lb)&gt; ,   rand(seeed) * clock, 5.5  } 
  #end

  finish {
    ambient 0.4
    diffuse 0.5
    reflection .86
  }

  rotate &lt;clock*360, 0, 0&gt;
  translate &lt;-3, -2.5, 0&gt;
} </code></pre>
<p><img src="clock_settings.png" /></p>
  </article>
  <footer>
    Â© Orllewin 2023. Made in Todmorden, Yorkshire.
  </footer>
</body>
</html>
