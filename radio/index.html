<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#c3deeb" />
    <link rel="manifest" href="manifest.json">
    <link href="style.css" rel="stylesheet" />
    <title>Radio</title>
    <script>
        function setMetadata(stationTitle, imageUrl) {
            console.log("Attempting to set media metadata: " + stationTitle + ": " + imageUrl)
            if ("mediaSession" in navigator) {
                navigator.mediaSession.metadata = new MediaMetadata({
                    title: stationTitle,
                    artwork: [{src: imageUrl}]
                });

                try {
                    navigator.mediaSession.setActionHandler('stop', function() {
                        var footer = document.getElementById('footer');
                        footer.style.display = 'none';
                    });
                } catch(error) {
                    console.log('Warning! The "stop" media session action is not supported.');
                }
            }
        }
    </script>
</head>
<body>
<header>
    <button id="back_button">
        <img src="assets/back.svg">
    </button>
    <svg id="radio_logo" width="97" height="22" viewBox="0 0 97 22" xmlns="http://www.w3.org/2000/svg">
        <path d="M12.14 14.0435L17.5924 21.7826H13.1198L8.13596 14.6087H3.53552V21.7826H0V0.521739H7.75259C10.9047 0.521739 13.1624 1.07246 14.5255 2.17391C15.917 3.24638 16.6127 5 16.6127 7.43478C16.6127 10.942 15.1218 13.1449 12.14 14.0435ZM7.88038 11.3913C9.83983 11.3913 11.1887 11.087 11.9271 10.4783C12.6654 9.86956 13.0346 8.84058 13.0346 7.3913C13.0346 6 12.6654 5.05797 11.9271 4.56522C11.1887 4.04348 9.86823 3.78261 7.96558 3.78261H3.53552V11.3913H7.88038Z" />
        <path d="M24.6477 16.9565L22.5604 21.7826H18.8119L28.0128 0.521739H31.7613L40.9196 21.7826H37.1711L35.0838 16.9565H24.6477ZM33.6782 13.6087L29.887 4.86957L26.0959 13.6087H33.6782Z" />
        <path d="M50.9767 0.521739C54.6968 0.521739 57.565 1.44928 59.5812 3.30435C61.5975 5.13043 62.6056 7.71014 62.6056 11.0435C62.6056 14.4348 61.6117 17.0725 59.6238 18.9565C57.636 20.8406 54.6684 21.7826 50.7211 21.7826H43.8205V0.521739H50.9767ZM50.8489 3.82609H47.356V18.3913H51.2323C53.7881 18.3913 55.7334 17.7826 57.068 16.5652C58.4027 15.3188 59.0701 13.5072 59.0701 11.1304C59.0701 6.26087 56.3297 3.82609 50.8489 3.82609Z" />
        <path d="M67.1026 0.521739H70.6382V21.7826H67.1026V0.521739Z" />
        <path d="M86.0101 3.26087C83.937 3.26087 82.1906 4.01449 80.7707 5.52174C79.3508 7.02899 78.6408 8.85507 78.6408 11C78.6408 13.1449 79.3508 14.971 80.7707 16.4783C82.1906 17.9565 83.937 18.6957 86.0101 18.6957C88.0831 18.6957 89.8296 17.9565 91.2494 16.4783C92.6693 14.971 93.3793 13.1449 93.3793 11C93.3793 8.85507 92.6693 7.02899 91.2494 5.52174C89.8296 4.01449 88.0831 3.26087 86.0101 3.26087ZM86.0101 22C82.8863 22 80.2737 20.9565 78.1723 18.8696C76.0708 16.7536 75.0201 14.1304 75.0201 11C75.0201 7.86956 76.0708 5.26087 78.1723 3.17391C80.2737 1.05797 82.8863 0 86.0101 0C89.1338 0 91.7464 1.05797 93.8478 3.17391C95.9493 5.26087 97 7.86956 97 11C97 14.1304 95.9351 16.7391 93.8053 18.8261C91.6754 20.942 89.077 22 86.0101 22Z" />
    </svg>






    <button id="settings_button">
        <img src="assets/overflow.svg" style="height: 24px;">
    </button>
</header>

<section id="settings" class="settings">
    <h2>Settings</h2>
    <p>You can use your own remote JSON feed instead of using the Orllewin default. You'll need to copy the format of the main feed at <a href="https://orllewin.uk/stations.json">orllewin.uk/stations.json</a> precisely.</p>
    <p>Test your JSON radio file by adding as a query string: <a href="https://orllewin.github.io/radio/?https://orllewin.uk/stations.json">example</a>, when you're happy set it below and the url will be saved to local storage, reload the radio and it should use the custom url override.</p>
    <p>If you have issues check the url and make sure your server is setting the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin">CORS header to *</a></p><br>
    <input type="text" id="url_input" name="url">
    <button id="save_url_button" class="control_button">Save</button>
</section>

<section id="grid_holder" class="grid_holder"></section>

<div id="controls">
    <img id="now_playing_icon"><button id="website_button" class="control_button website_button left" onclick="stop()">Website</button><button id="stop_button" class="control_button right" onclick="stop()">stop</button>
</div>

<script src="Radio.js"></script>
</body>
</html>
